Array.from(document.querySelectorAll(".pill")).forEach((e=>{e.querySelector("input[name='category'][type='radio']").addEventListener("input",(async e=>{const t=document.querySelector(`div.pill label[for='${e.target.id}']`);t.innerHTML+='<span class="loader"></span>',function(e){const t=document.querySelector(".row"),n=function(e=[],t=3){const n=Math.ceil(e.length/3),a=Array.from({length:t},(()=>[]));for(let r=0;r<e.length;r++)a[Math.floor(r/n)].push(e[r]);return a}(e),a=[];n.map((e=>{if(0!=e.length){const t=document.createElement("div");t.classList.add("column"),e.map((e=>{if("image/jpeg"==e.type){const n=new Image,a=e.thumbnailLink.split("=s")[0];n.src=`/image/${a.split("/")[3]}`,t.append(n)}else if("video/mp4"==e.type){const n=document.createElement("div"),a=document.createElement("iframe");n.classList.add("iframe__wrapper"),a.src=e.embedLink,n.append(a),t.append(n)}else if("application/pdf"==e.type){const n=document.createElement("object");n.data=e.webContentLink,n.type=e.type,n.border=0,t.append(n)}a.push(t)}))}})),t.replaceChildren(...a)}(await async function(e){const t=new URLSearchParams;t.set("categoryId",e);try{const e=await fetch("/request",{method:"POST",body:t});return await e.json()}catch(n){console.error(n)}}(e.target.value)),t.textContent=e.target.title}))})),Array.from(document.querySelectorAll(".nav__btn")).forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.value;console.log(e.target),t&&/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_\+.~#?&\/=]*)$/.test(t)&&window.open(t,"_blank")}))}));